# نظام إدارة المصروفات والدخل 💰

نظام شامل لإدارة المصروفات والدخل مطور بـ Django و PostgreSQL ومجهز لجميع المتطلبات المالية الحديثة.

## ✨ الميزات الرئيسية

### 🏦 إدارة الحسابات المتقدمة
- **حسابات متعددة**: دعم أنواع مختلفة من الحسابات (جاري، توفير، ائتمان، نقد، استثمار، دين)
- **العملات المتعددة**: دعم عدة عملات مع أسعار صرف محدثة
- **التحويلات**: إمكانية التحويل بين الحسابات مع حساب أسعار الصرف التلقائي
- **الأرصدة الفورية**: تحديث تلقائي للأرصدة عند كل معاملة

### 📊 التصنيفات الذكية
- **تصنيفات هرمية**: دعم التصنيفات الفرعية والتوفرات المتداخلة
- **ألوان وأيقونات**: تصنيفات ملونة ومميزة بصرياً
- **حدود الميزانية**: إعداد حدود مخصصة لكل تصنيف
- **المراقبة**: تتبع الإنفاق الزائد عن الحدود المحددة

### 💸 إدارة المعاملات الشاملة
- **معاملات متقدمة**: دخل، مصروفات، تحويلات مع تواريخ وملاحظات
- **العلامات**: نظام hashtags لتنظيم وتصنيف المعاملات
- **المرفقات**: رفع فواتير وإيصالات مع دعم OCR للمسح الذكي
- **المعاملات المتكررة**: جدولة المعاملات المتكررة تلقائياً
- **التعليقات**: نظام تعليقات داخلي للمعاملات

### 💰 الميزانيات الذكية
- **ميزانيات مرنة**: فترات مخصصة (شهرية، ربعية، سنوية)
- **تنبيهات ذكية**: إشعارات عند اقتراب أو تجاوز حدود الميزانية
- **المتابعة البصرية**: رسوم بيانية تفاعلية لتتبع التقدم
- **قوالب جاهزة**: قوالب مسبقة للإنشاء السريع للميزانيات

### 🎯 الأهداف المالية
- **أهداف متعددة**: ادخار، سداد ديون، استثمارات، شراء منزل
- **معالم متعددة**: تقسيم الهدف لأهداف فرعية قابلة للتحقيق
- **المساهمات**: تتبع المساهمات مع التحليل الذكي للتقدم
- **التنبيهات**: إشعارات عند تحقيق الأهداف والمعالم

### 📈 التقارير والتحليلات
- **تقارير شاملة**: تقارير دورية تلقائية بصيغ متعددة (PDF, Excel, HTML)
- **رسوم بيانية تفاعلية**: تحليلات بصرية للبيانات المالية
- **مقارنات زمنية**: مقارنة الأداء عبر فترات مختلفة
- **تحليلات ذكية**: توقع الإنفاق ومقترحات تحسين

## 🛠 التكنولوجيا المستخدمة

### Backend
- **Django 5.2.2**: إطار العمل الرئيسي
- **PostgreSQL**: قاعدة البيانات العلائقية المتقدمة
- **Django REST Framework**: API متقدم مع توثيق تلقائي
- **Celery**: معالجة المهام غير المتزامنة
- **Redis**: التخزين المؤقت ومركزية البيانات

### Frontend
- **Bootstrap 5**: تصميم متجاوب وحديث
- **Chart.js**: الرسوم البيانية التفاعلية
- **Font Awesome**: أيقونات متقدمة
- **AJAX**: تحديثات فورية دون إعادة تحميل

### Dev Tools
- **DRF Spectacular**: توثيق API التلقائي
- **Django Debug Toolbar**: أدوات التطوير والتشخيص
- **Black**: تنسيق الكود التلقائي
- **Pytest**: اختبارات شاملة

## 🚀 التثبيت والإعداد

### المتطلبات الأساسية
```bash
Python 3.13.3+
PostgreSQL 17+
Redis 6+
```

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone <repository-url>
cd expense_manager
```

2. **إنشاء البيئة الافتراضية**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# أو
venv\\Scripts\\activate  # Windows
```

3. **تثبيت المتطلبات**
```bash
pip install -r requirements.txt
```

4. **إعداد قاعدة البيانات**
```bash
# إنشاء قاعدة بيانات PostgreSQL
sudo -u postgres createdb expense_manager

# تشغيل migrations
python manage.py makemigrations
python manage.py migrate
```

5. **إنشاء مستخدم إدارة**
```bash
python manage.py createsuperuser
```

6. **تشغيل الخادم**
```bash
python manage.py runserver
```

## 📁 هيكل المشروع

```
expense_manager/
├── accounts/                 # إدارة الحسابات
│   ├── api/                  # API endpoints
│   ├── templates/            # قوالب HTML
│   ├── models.py            # نماذج الحسابات
│   ├── admin.py             # إدارة Django
│   └── views.py             # المشاهدات
├── categories/              # إدارة التصنيفات
│   ├── api/                 # API للتصنيفات
│   ├── templates/           # القوالب
│   ├── models.py           # نماذج التصنيفات
│   └── views.py            # مشاهدات التصنيفات
├── transactions/           # إدارة المعاملات
│   ├── api/               # API للمعاملات
│   ├── templates/         # القوالب
│   ├── models.py         # نماذج المعاملات
│   └── views.py          # المشاهدات
├── budgets/              # إدارة الميزانيات
│   ├── api/             # API للميزانيات
│   ├── templates/       # القوالب
│   ├── models.py       # نماذج الميزانيات
│   └── views.py        # المشاهدات
├── goals/              # إدارة الأهداف المالية
│   ├── api/           # API للأهداف
│   ├── templates/     # القوالب
│   ├── models.py     # نماذج الأهداف
│   └── views.py      # المشاهدات
├── reports/           # التقارير والتحليلات
│   ├── api/          # API للتقارير
│   ├── templates/    # القالب
│   ├── models.py    # نماذج التقارير
│   └── views.py     # المشاهدات
├── templates/        # القوالب الأساسية
│   └── base/        # القوالب الأساسية
├── static/          # الملفات الثابتة
├── media/          # ملفات المستخدمين
├── logs/           # ملفات السجلات
├── expense_manager/ # إعدادات المشروع الأساسية
│   ├── settings.py  # الإعدادات
│   ├── urls.py     # URLs الرئيسية
│   └── wsgi.py     # إعدادات الخادم
└── manage.py       # ملف إدارة Django
```

## 🔧 الإعدادات والتكوين

### ملف البيئة `.env`
```bash
SECRET_KEY=your-secret-key-here
DEBUG=True
DB_NAME=expense_manager
DB_USER=postgres
DB_PASSWORD=your-password
DB_HOST=localhost
DB_PORT=5432

# إعدادات أخرى...
```

### إعدادات قاعدة البيانات المتقدمة
المشروع يدعم SQLite للتحميل السريع وPostgreSQL للإنتاج المتقدم.

## 📊 استخدام النظام

### 1. إدارة الحسابات
- إنشاء حسابات متعددة بأنواع مختلفة
- إدارة العملات وأسعار الصرف
- مراقبة الأرصدة في الوقت الفعلي

### 2. تنظيم المعاملات
- تسجيل دخول ومصروفات مفصلة
- رفع فواتير ومرفقات
- استخدام العلامات للتنظيم

### 3. تخطيط الميزانيات
- إنشاء ميزانيات لفترات مختلفة
- تحديد حدود الإنفاق لكل تصنيف
- مراقبة التقدم البصري

### 4. متابعة الأهداف
- تحديد أهداف مالية واضحة
- إنشاء معالم للمتابعة
- تحليل التقدم والتحديات

## 🔄 API Documentation

النظام يوفر API شامل موثق تلقائياً:

- **Swagger UI**: `http://localhost:8000/api/schema/swagger-ui/`
- **ReDoc**: `http://localhost:8000/api/schema/redoc/`
- **OpenAPI Schema**: `http://localhost:8000/api/schema/`

### أمثلة على الاستخدام
```python
# الحصول على الحسابات
GET /api/accounts/accounts/

# إنشاء معاملة جديدة
POST /api/transactions/transactions/
{
    "amount": 100.00,
    "transaction_type": "income",
    "account": 1,
    "category": 2,
    "description": "راتب شهري"
}
```

## 🧪 الاختبارات

```bash
# تشغيل جميع الاختبارات
python manage.py test

# اختبارات محددة
python manage.py test accounts.tests
```

## 🚀 النشر

### استخدام Docker
```bash
docker build -t expense_manager .
docker run -p 8000:8000 expense_manager
```

### النشر على الخوادم السحابية
- يدعم النشر على Heroku, AWS, DigitalOcean
- تكوين Redis و Celery للإنتاج
- إعدادات SSL وأمان متقدمة

## 🤝 قيم الساعة والمساهمة

المشروع مفتوح المصدر ونرحب بالمساهمات:

1. Fork المشروع
2. إنشاء فرع ميزة (`git checkout -b feature/AmazingFeature`)
3. Commit التغييرات (`git commit -m 'Add some AmazingFeature'`)
4. Push للفرع (`git push origin feature/AmazingFeature`)
5. فتح Pull Request

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - انظر ملف [LICENSE](LICENSE) للتفاصيل.

## 📞 التواصل والدعم

- **البريد الإلكتروني**: support@ServiceManager.dev
- **الموقع**: https://expense-manager.example.com
- **التوثيق**: https://docs.expense-manager.example.com

## 🙏 شكر وتقدير

نشكر جميع المساهمين والمطورين الذين ساهموا في تطوير هذا النظام.

---
**نظام إدارة المصروفات والدخل** - حل شامل لإدارة الشؤون المالية الشخصية والعائلية 💼